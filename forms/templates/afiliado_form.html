{% extends "layout.html" %}

{% load static %}

{% block content %}
<div class="content-body">
    <div class="content-actions">
        <a href="{% url 'forms:dashboard' %}" class="btn-back">← Volver al Dashboard</a>
    </div>
    
    <h2 class="content-title">Registro de Afiliado</h2>
    <p class="content-subtitle">Complete la información para registrar una nueva empresa</p>
    <form method="post" action="{% url 'forms:nuevo_afiliado' %}">
        {% csrf_token %}

        <div class="mb-4">
            <label class="form-label">Razón Social <span class="text-danger">*</span></label>
            <input type="text" name="razon_social" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">RUC <span class="text-danger">*</span></label>
            <input type="text" name="ruc" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Ciudad <span class="text-danger">*</span></label>
            <input type="text" name="ciudad" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Dirección <span class="text-danger">*</span></label>
            <input type="text" name="direccion" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Teléfono <span class="text-danger">*</span></label>
            <input type="text" name="telefono" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Email <span class="text-danger">*</span></label>
            <input type="email" name="email" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Representante Legal <span class="text-danger">*</span></label>
            <input type="text" name="representante" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Cargo <span class="text-danger">*</span></label>
            <input type="text" name="cargo" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Género <span class="text-danger">*</span></label>
            <select name="genero" class="form-select" required>
                <option value="">Seleccione una opción</option>
                <option value="Hombre">Hombre</option>
                <option value="Mujer">Mujer</option>
                <option value="Prefiero no decir">Prefiero no decir</option>
            </select>
        </div>

        <div class="mb-4">
            <label class="form-label">Número de Colaboradores</label>
            <input type="number" name="colaboradores" class="form-control" min="0" step="1" placeholder="Ingrese el número de colaboradores">
        </div>

        <div class="mb-4">
            <label for="sector" class="form-label">Sector <span class="text-danger">*</span></label>
            <select class="form-select" id="sector" name="sector" required>
                <option value="">Seleccione un sector</option>
                {% for sector in sectores %}
                    <option value="{{ sector }}">{{ sector }}</option>
                {% empty %}
                    <option value="" disabled>No hay sectores disponibles</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-4">
            <label for="tamano" class="form-label">Tamaño <span class="text-danger">*</span></label>
            <select class="form-select" id="tamano" name="tamano" required>
                <option value="">Seleccione un tamaño</option>
                <option value="MICRO">MICRO</option>
                <option value="PEQUEÑA">PEQUEÑA</option>
                <option value="MEDIANA">MEDIANA</option>
                <option value="GRANDE">GRANDE</option>
            </select>
        </div>

        <div class="mb-4">
            <label class="form-label">Estado <span class="text-danger">*</span></label>
            <select name="estado" class="form-select" required>
                <option value="PAGADO">PAGADO</option>
                <option value="NO PAGADO">NO PAGADO</option>
            </select>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Registrar Afiliado</button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    $(document).ready(function() {
        // Mostrar loader al enviar formulario
        $('form').on('submit', function() {
            $('#globalLoader').addClass('active');
        });
    });
</script>
{% endblock %}
